<!DOCTYPE html>
<html>
<head>
  <base href="/Mu_Competition_Web/">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="codit_competition">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>codit_competition</title>
  <link rel="manifest" href="manifest.json">

  <!-- 1. ADD THE STANDARD LOTTIE WEB PLAYER SCRIPT (from cdnjs) -->
  <!-- We use the reliable lottie-web library instead of the newer web component -->
  <script src="cdnjs.cloudflare.com"></script>

  <!-- CUSTOM CSS FOR THE LOADER -->
  <style>
    .container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        /* Background color changed back to white */
        background-color: #FFFFFF; 
        z-index: 10;
        transition: opacity 0.3s ease-out;
    }
    /* The animation will render inside the #lottie-container DIV */
    #lottie-container {
        width: 400px; 
        height: 400px;
    }
  </style>

</head>
<body>
    
  <!-- 2. ADD AN EMPTY DIV CONTAINER for Lottie to target -->
  <div id="loading_indicator" class="container">
    <div id="lottie-container"></div>
  </div>

  <!-- This script initializes the Lottie animation and hides the loader -->
  <script>
    // 3. Initialize the Lottie animation using JavaScript
    lottie.loadAnimation({
      container: document.getElementById('lottie-container'), // the DOM element that will contain the animation
      renderer: 'svg', // Use 'svg' or 'canvas'
      loop: true,
      autoplay: true,
      path: 'assets/assets/Glow loading.json' // Path to your JSON file
    });

    // 4. This script hides the loader when Flutter is ready
    window.addEventListener("flutter-first-frame", function() {
      var loadingIndicator = document.getElementById("loading_indicator");
      if (loadingIndicator) {
        // Start fade out animation
        loadingIndicator.style.opacity = 0;
        // Remove element from DOM after transition completes (0.3s matches CSS transition)
        setTimeout(function() {
          loadingIndicator.remove();
        }, 300); 
      }
    });
  </script>
  
  <script src="flutter_bootstrap.js" async></script>
</body>
</html>
